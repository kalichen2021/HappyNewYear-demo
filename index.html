<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>新年快乐！！！</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css"
    />
    <link rel="stylesheet" href="./main.css" />
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <script>
      function sleep(time) {
        return new Promise((resolve) => setTimeout(resolve, time));
      }

      function CssSet() {
        var top = ($(window).height() - $("#box").height()) * 0.5;
        var left = ($(window).width() - $("#box").width()) * 0.5;
        $("#box").css({
          top: top,
          left: left,
        });
      }
      function appear(text) {
        var obj = "<div id='box'>" + text + "</div>";
        $("body").append(obj);
      }

      $(document).ready(function () {
        data = [
          "再点一下试试",
          "Hi!",
          "别来无恙呀！",
          "海内存知己，天涯若比邻",
          "感谢你能坚持到现在！",
          "我有几句话。。。",
          "虽然我不知道你来过这，",
          "但你知道我们一定见过面，",
          "如果我们曾经认识",
          "那感谢你这些年一直陪伴着我",
          "如果。。。我们是陌生人",
          "哈哈，现在算交了你这个朋友",
          "然后是。。。",
          "嗯。。。对了",
          "祝你在新的一年。。。",
          "。。。",
          "。。。",
          "越来越好！！",
          "再见了朋友，晚安！！",
          "Powered By Github.io",
          "Created By Chen",
          "undefined",
        ];
        mydate = new Date();
        var day = mydate.getDate();
        var hour = mydate.getHours();
        var i = 0;

        if (day == 21) {
          function AddZero(num) {
            num = String(num);
            return num.length == 1 ? "0".concat("", num) : num;
          }
          var t = setTimeout(time, 1000);
          function time() {
            clearTimeout(t); //清除定时器
            var dt = new Date();
            if (dt.getHours() == 23 && dt.getMinutes() == 59) {
              $("#box").remove();
              appear(60 - dt.getSeconds() + "秒");
              CssSet();
              $("#box").addClass("box");
            } else {
              var h = AddZero(dt.getHours()); //获取时
              var m = AddZero(dt.getMinutes()); //获取分
              var s = AddZero(dt.getSeconds()); //获取秒
              //alert(h + ":" + m + ":" + s)
              //document.getElementById("box").innerHTML = h + ":" + m + ":" + s;
              var text = h + ":" + m + ":" + s;
              $("#box").remove();
              appear(text);
              CssSet();
              $("#box").css("color", " rgba(255, 81, 0, 0.11)");
            }
            t = setTimeout(time, 1000); //设定定时器，循环运行
          }
        } else if (day == 22 && hour == 0) {
          $("#box").remove();
          appear("点一下试试");
          CssSet();
          $(window).click(function () {
            if (data[i] == "undefined") {
              null;
            } else {
              $("#box").remove();
              appear(data[i]);
              CssSet();
              $("#box").addClass("box");
              i++;
            }
          });
        }
      });
    </script>
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <div id="box"></div>
    <script src="./main.js"></script>
  </body>
</html>
